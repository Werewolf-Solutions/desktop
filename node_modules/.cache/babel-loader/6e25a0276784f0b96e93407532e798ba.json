{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import{Button}from'@material-ui/core';import AddBot from'./AddBot';import BalanceDialog from'./BalanceDialog';import Loading from'../Layout/Loading';import axios from'axios';var useStyles=makeStyles({table:{minWidth:650}});export default function ExchangesTable(props){var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),balanceOpen=_React$useState4[0],setBalanceOpen=_React$useState4[1];var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),state=_React$useState6[0],setState=_React$useState6[1];var _React$useState7=React.useState(),_React$useState8=_slicedToArray(_React$useState7,2),exchange=_React$useState8[0],setExchange=_React$useState8[1];var handleChange=function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.id,e.target.value)));};var handleClickOpen=function handleClickOpen(exchange){setOpen(true);setExchange(exchange);};var handleClose=function handleClose(){setOpen(false);};var handleBalanceDialog=function handleBalanceDialog(){setBalanceOpen(!balanceOpen);};var deleteExchange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(exchange){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/users/delete-exchange',exchange);case 2:res=_context.sent;console.log(res.data);props.authUser();case 5:case\"end\":return _context.stop();}}},_callee);}));return function deleteExchange(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AddBot,{open:open,handleClose:handleClose,exchange:exchange}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{className:classes.table,\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Exchanges\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Balances\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:\"Active bots\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:props.user.exchanges?props.user.exchanges.map(function(exchange){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",scope:\"row\",children:exchange.name}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(BalanceDialog,{open:balanceOpen,onClose:handleBalanceDialog,account:exchange.account}),/*#__PURE__*/_jsx(Button,{onClick:handleBalanceDialog,children:\"Balance\"})]}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:exchange.activeBot}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return handleClickOpen(exchange);},children:\"add bot\"})}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return deleteExchange(exchange);},children:\"delete exchange\"})})]},exchange.name);}):/*#__PURE__*/_jsx(Loading,{})})]})})]});}","map":{"version":3,"sources":["/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/src/Components/Investments/ExchangesTable.js"],"names":["React","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","AddBot","BalanceDialog","Loading","axios","useStyles","table","minWidth","ExchangesTable","props","classes","useState","open","setOpen","balanceOpen","setBalanceOpen","state","setState","exchange","setExchange","handleChange","e","target","id","value","handleClickOpen","handleClose","handleBalanceDialog","deleteExchange","post","res","console","log","data","authUser","user","exchanges","map","name","account","activeBot"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport { Button } from '@material-ui/core';\nimport AddBot from './AddBot';\nimport BalanceDialog from './BalanceDialog';\nimport Loading from '../Layout/Loading';\nimport axios from 'axios';\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n});\n\nexport default function ExchangesTable(props) {\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n  const [balanceOpen, setBalanceOpen] = React.useState(false);\n  const [state, setState] = React.useState();\n\n  const [exchange, setExchange] = React.useState();\n\n  const handleChange = (e) => {\n    setState({...state, [e.target.id]: e.target.value});\n  }\n\n  const handleClickOpen = (exchange) => {\n    setOpen(true);\n    setExchange(exchange);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleBalanceDialog = () => {\n    setBalanceOpen(!balanceOpen);\n  }\n\n  const deleteExchange = async (exchange) => {\n    const res = await axios.post('/users/delete-exchange', exchange);\n    console.log(res.data);\n    props.authUser();\n  }\n\n  return (\n    <div>\n      <AddBot\n        open={open}\n        handleClose={handleClose}\n        exchange={exchange}\n      />      \n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"simple table\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Exchanges</TableCell>\n              <TableCell align=\"right\">Balances</TableCell>\n              <TableCell align=\"right\">Active bots</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n          {props.user.exchanges ? props.user.exchanges.map((exchange) => (\n            <TableRow key={exchange.name}>\n              <TableCell component=\"th\" scope=\"row\">\n                {exchange.name}\n              </TableCell>\n              <TableCell align=\"right\">\n              <BalanceDialog\n                open={balanceOpen}\n                onClose={handleBalanceDialog}\n                account={exchange.account}\n              />\n                <Button\n                  onClick={handleBalanceDialog}\n                >Balance</Button>\n              </TableCell>\n              <TableCell align=\"right\">{exchange.activeBot}</TableCell>\n              <TableCell align=\"right\">\n                <Button\n                  onClick={() => handleClickOpen(exchange)}\n                >add bot</Button>\n              </TableCell>\n              <TableCell align=\"right\">\n                <Button\n                  onClick={() => deleteExchange(exchange)}\n                >delete exchange</Button>\n              </TableCell>\n            </TableRow>            \n          )) : <Loading />}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}