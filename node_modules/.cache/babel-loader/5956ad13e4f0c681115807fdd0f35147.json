{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{makeStyles}from'@material-ui/core/styles';import{Grid,InputLabel,MenuItem,Select,FormControl,Button,Typography}from'@material-ui/core';import{format,compareAsc}from'date-fns';import AddBudgetDialog from'./AddBudgetDialog';import FixedCostsDialog from'./FixedCosts/FixedCostsDialog';import VariableCostsDialog from'./VariableCosts/VariableCostsDialog';import FutureCostsDialog from'./FutureCosts/FutureCostsDialog';import IncomesDialog from'./Incomes/IncomesDialog';import BankAccountsDialog from'./BankAccounts/BankAccountsDialog';import CheckboxesForm from'../Layout/CheckboxesForm';// import accounting from '../../funcs/accounting'\nimport CheckBoxGridList from'../Layout/CheckBoxGridList';import axios from'axios';var accounting={update:function(){var _update=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(budget){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('users/accounting',{budget_id:budget._id});case 2:res=_context.sent;return _context.abrupt(\"return\",res.data);case 4:case\"end\":return _context.stop();}}},_callee);}));function update(_x){return _update.apply(this,arguments);}return update;}(),addBudget:function(){var _addBudget=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(name){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('/users/add-budget',{budget:{name:name}});case 2:res=_context2.sent;return _context2.abrupt(\"return\",res.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function addBudget(_x2){return _addBudget.apply(this,arguments);}return addBudget;}(),editBudget:function(){var _editBudget=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(budget,working_days){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post('/users/edit-budget',{budget_id:budget._id,working_days:working_days});case 2:res=_context3.sent;return _context3.abrupt(\"return\",res.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));function editBudget(_x3,_x4){return _editBudget.apply(this,arguments);}return editBudget;}(),deleteBudget:function(){var _deleteBudget=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(budget_id){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.post('/users/delete-budget',{budget_id:budget_id});case 2:res=_context4.sent;return _context4.abrupt(\"return\",res.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));function deleteBudget(_x5){return _deleteBudget.apply(this,arguments);}return deleteBudget;}(),addFixedCost:function(){var _addFixedCost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(budget,fixed_cost){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.post('/users/add-fixed-cost',{budget_id:budget._id,fixed_cost:fixed_cost});case 2:res=_context5.sent;return _context5.abrupt(\"return\",res.data);case 4:case\"end\":return _context5.stop();}}},_callee5);}));function addFixedCost(_x6,_x7){return _addFixedCost.apply(this,arguments);}return addFixedCost;}(),deleteFixedCost:function(){var _deleteFixedCost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(budget,fixed_cost_id){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.post('/users/delete-fixed-cost',{budget_id:budget._id,fixed_cost_id:fixed_cost_id});case 2:res=_context6.sent;return _context6.abrupt(\"return\",res.data);case 4:case\"end\":return _context6.stop();}}},_callee6);}));function deleteFixedCost(_x8,_x9){return _deleteFixedCost.apply(this,arguments);}return deleteFixedCost;}(),addVariableCost:function(){var _addVariableCost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(budget,variable_cost){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return axios.post('/users/add-variable-cost',{budget_id:budget._id,variable_cost:variable_cost});case 2:res=_context7.sent;return _context7.abrupt(\"return\",res.data);case 4:case\"end\":return _context7.stop();}}},_callee7);}));function addVariableCost(_x10,_x11){return _addVariableCost.apply(this,arguments);}return addVariableCost;}(),deleteVariableCost:function(){var _deleteVariableCost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(budget,variable_cost_id){var res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return axios.post('/users/delete-variable-cost',{budget_id:budget._id,variable_cost_id:variable_cost_id});case 2:res=_context8.sent;return _context8.abrupt(\"return\",res.data);case 4:case\"end\":return _context8.stop();}}},_callee8);}));function deleteVariableCost(_x12,_x13){return _deleteVariableCost.apply(this,arguments);}return deleteVariableCost;}(),addFutureCost:function(){var _addFutureCost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(budget,future_cost){var res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return axios.post('/users/add-future-cost',{budget_id:budget._id,future_cost:future_cost});case 2:res=_context9.sent;return _context9.abrupt(\"return\",res.data);case 4:case\"end\":return _context9.stop();}}},_callee9);}));function addFutureCost(_x14,_x15){return _addFutureCost.apply(this,arguments);}return addFutureCost;}(),deleteFutureCost:function(){var _deleteFutureCost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(budget,future_cost_id){var res;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return axios.post('/users/delete-future-cost',{budget_id:budget._id,future_cost_id:future_cost_id});case 2:res=_context10.sent;return _context10.abrupt(\"return\",res.data);case 4:case\"end\":return _context10.stop();}}},_callee10);}));function deleteFutureCost(_x16,_x17){return _deleteFutureCost.apply(this,arguments);}return deleteFutureCost;}(),addIncome:function(){var _addIncome=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(budget,income){var res;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return axios.post('/users/add-income',{budget_id:budget._id,income:income});case 2:res=_context11.sent;return _context11.abrupt(\"return\",res.data);case 4:case\"end\":return _context11.stop();}}},_callee11);}));function addIncome(_x18,_x19){return _addIncome.apply(this,arguments);}return addIncome;}(),deleteIncome:function(){var _deleteIncome=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(budget,income_id){var res;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return axios.post('/users/delete-income',{budget_id:budget._id,income_id:income_id});case 2:res=_context12.sent;return _context12.abrupt(\"return\",res.data);case 4:case\"end\":return _context12.stop();}}},_callee12);}));function deleteIncome(_x20,_x21){return _deleteIncome.apply(this,arguments);}return deleteIncome;}(),addBankAccount:function(){var _addBankAccount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(budget,bank_account){var res;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return axios.post('/users/add-bank-account',{budget_id:budget._id,bank_account:bank_account});case 2:res=_context13.sent;return _context13.abrupt(\"return\",res.data);case 4:case\"end\":return _context13.stop();}}},_callee13);}));function addBankAccount(_x22,_x23){return _addBankAccount.apply(this,arguments);}return addBankAccount;}(),deleteBankAccount:function(){var _deleteBankAccount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(budget,bank_account_id){var res;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return axios.post('/users/delete-bank-account',{budget_id:budget._id,bank_account_id:bank_account_id});case 2:res=_context14.sent;return _context14.abrupt(\"return\",res.data);case 4:case\"end\":return _context14.stop();}}},_callee14);}));function deleteBankAccount(_x24,_x25){return _deleteBankAccount.apply(this,arguments);}return deleteBankAccount;}()};var useStyles=makeStyles(function(theme){return{formControl:{margin:theme.spacing(1),minWidth:120}};});export default function Accounting(props){var user=props.user;var classes=useStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),addBudgetDialog=_React$useState2[0],setAddBudgetDialog=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),fixedCostsDialog=_React$useState4[0],setFixedCostsDialog=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),variableCostsDialog=_React$useState6[0],setVariableCostsDialog=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),futureCostsDialog=_React$useState8[0],setFutureCostsDialog=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),incomesDialog=_React$useState10[0],setIncomesDialog=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),bankAccountsDialog=_React$useState12[0],setBankAccountsDialog=_React$useState12[1];var _React$useState13=React.useState(),_React$useState14=_slicedToArray(_React$useState13,2),state=_React$useState14[0],setState=_React$useState14[1];var _React$useState15=React.useState(false),_React$useState16=_slicedToArray(_React$useState15,2),addFixedCostDialog=_React$useState16[0],setAddFixedCostDialog=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),addVariableCostDialog=_React$useState18[0],setAddVariableCostDialog=_React$useState18[1];var _React$useState19=React.useState(false),_React$useState20=_slicedToArray(_React$useState19,2),addFutureCostDialog=_React$useState20[0],setAddFutureCostDialog=_React$useState20[1];var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),addIncomeDialog=_React$useState22[0],setAddIncomeDialog=_React$useState22[1];var _React$useState23=React.useState(false),_React$useState24=_slicedToArray(_React$useState23,2),addBankAccountDialog=_React$useState24[0],setAddBankAccountDialog=_React$useState24[1];var _React$useState25=React.useState(format(new Date(),'yyyy-MM-dd')),_React$useState26=_slicedToArray(_React$useState25,2),date=_React$useState26[0],setDate=_React$useState26[1];var _React$useState27=React.useState(props.budget.working_days),_React$useState28=_slicedToArray(_React$useState27,2),workingDays=_React$useState28[0],setWorkingDays=_React$useState28[1];var _React$useState29=React.useState(props.budget?props.budget.name:''),_React$useState30=_slicedToArray(_React$useState29,2),budgetName=_React$useState30[0],setBudgetName=_React$useState30[1];// Handle budget selection\nvar handleSelectBudget=function handleSelectBudget(e){// props.setBudget(e.target.value)\n// console.log(e.target.value.name)\n// setBudgetName(e.target.value.name)\nprops.update(e.target.value);};var selectDate=function selectDate(e){setDate(e.target.value);};var handleAddFixedCostDialog=function handleAddFixedCostDialog(){setAddFixedCostDialog(!addFixedCostDialog);};var handleAddVariableCostDialog=function handleAddVariableCostDialog(){setAddVariableCostDialog(!addVariableCostDialog);};var handleAddFutureCostDialog=function handleAddFutureCostDialog(){setAddFutureCostDialog(!addFutureCostDialog);};var handleAddIncomeDialog=function handleAddIncomeDialog(){setAddIncomeDialog(!addIncomeDialog);};var handleAddBankAccountDialog=function handleAddBankAccountDialog(){setAddBankAccountDialog(!addBankAccountDialog);};var handleChange=function handleChange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.id,e.target.value)));};var handleAddBudgetDialog=function handleAddBudgetDialog(){setAddBudgetDialog(!addBudgetDialog);};var handleFixedCostsDialog=function handleFixedCostsDialog(){setFixedCostsDialog(!fixedCostsDialog);};var handleVariableCostsDialog=function handleVariableCostsDialog(){setVariableCostsDialog(!variableCostsDialog);};var handleFutureCostsDialog=function handleFutureCostsDialog(){setFutureCostsDialog(!futureCostsDialog);};var handleIncomesDialog=function handleIncomesDialog(){setIncomesDialog(!incomesDialog);};var handleBankAccountsDialog=function handleBankAccountsDialog(){setBankAccountsDialog(!bankAccountsDialog);};var addBudget=function addBudget(){var _accounting$addBudget=accounting.addBudget(state.name).then(function(){props.authUser();handleAddBudgetDialog();}),budgets=_accounting$addBudget.budgets,success=_accounting$addBudget.success;};var deleteBudget=function deleteBudget(){var _accounting$deleteBud=accounting.deleteBudget(props.budget._id).then(function(){props.update(user.budgets[0]);}),budgets=_accounting$deleteBud.budgets,success=_accounting$deleteBud.success;};var addFixedCost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(){var due_day,amount,from,to,frequency,notes,fixed_cost;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:due_day=state.due_day,amount=state.amount,from=state.from,to=state.to,frequency=state.frequency,notes=state.notes;fixed_cost={due_day:due_day,amount:amount,from:from,to:to,frequency:frequency,notes:notes};_context15.next=4;return accounting.addFixedCost(props.budget,fixed_cost);case 4:props.update(props.budget);handleAddFixedCostDialog();case 6:case\"end\":return _context15.stop();}}},_callee15);}));return function addFixedCost(){return _ref.apply(this,arguments);};}();var deleteFixedCost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(fixed_cost_id){var i;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:i=0;case 1:if(!(i<fixed_cost_id.length)){_context16.next=8;break;}_context16.next=4;return accounting.deleteFixedCost(props.budget,fixed_cost_id[i]);case 4:props.update(props.budget);case 5:i++;_context16.next=1;break;case 8:case\"end\":return _context16.stop();}}},_callee16);}));return function deleteFixedCost(_x26){return _ref2.apply(this,arguments);};}();var addVariableCost=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){var amount,from,to,notes,label,variable_cost;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:amount=state.amount,from=state.from,to=state.to,notes=state.notes,label=state.label;variable_cost={date:date,amount:amount,from:from,to:to,notes:notes,label:label};_context17.next=4;return accounting.addVariableCost(props.budget,variable_cost);case 4:props.update(props.budget);handleAddVariableCostDialog();case 6:case\"end\":return _context17.stop();}}},_callee17);}));return function addVariableCost(){return _ref3.apply(this,arguments);};}();var deleteVariableCost=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(variable_cost_id){var i;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:i=0;case 1:if(!(i<variable_cost_id.length)){_context18.next=8;break;}_context18.next=4;return accounting.deleteVariableCost(props.budget,variable_cost_id[i]);case 4:props.update(props.budget);case 5:i++;_context18.next=1;break;case 8:case\"end\":return _context18.stop();}}},_callee18);}));return function deleteVariableCost(_x27){return _ref4.apply(this,arguments);};}();var addFutureCost=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(){var amount,from,to,notes,label,future_cost;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:amount=state.amount,from=state.from,to=state.to,notes=state.notes,label=state.label;future_cost={date:date,amount:amount,from:from,to:to,notes:notes,label:label};_context19.next=4;return accounting.addFutureCost(props.budget,future_cost);case 4:props.update(props.budget);handleAddFutureCostDialog();case 6:case\"end\":return _context19.stop();}}},_callee19);}));return function addFutureCost(){return _ref5.apply(this,arguments);};}();var deleteFutureCost=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(future_cost_id){var i;return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:i=0;case 1:if(!(i<future_cost_id.length)){_context20.next=8;break;}_context20.next=4;return accounting.deleteFutureCost(props.budget,future_cost_id[i]);case 4:props.update(props.budget);case 5:i++;_context20.next=1;break;case 8:case\"end\":return _context20.stop();}}},_callee20);}));return function deleteFutureCost(_x28){return _ref6.apply(this,arguments);};}();var addIncome=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(){var amount,from,to,notes,income;return _regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:amount=state.amount,from=state.from,to=state.to,notes=state.notes;income={date:date,amount:amount,from:from,to:to,notes:notes};_context21.next=4;return accounting.addIncome(props.budget,income);case 4:props.update(props.budget);handleAddIncomeDialog();case 6:case\"end\":return _context21.stop();}}},_callee21);}));return function addIncome(){return _ref7.apply(this,arguments);};}();var deleteIncome=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(income_id){var i;return _regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:i=0;case 1:if(!(i<income_id.length)){_context22.next=8;break;}_context22.next=4;return accounting.deleteIncome(props.budget,income_id[i]);case 4:props.update(props.budget);case 5:i++;_context22.next=1;break;case 8:case\"end\":return _context22.stop();}}},_callee22);}));return function deleteIncome(_x29){return _ref8.apply(this,arguments);};}();var addBankAccount=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(){var amount,from,bank_name,notes,bank_account;return _regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:amount=state.amount,from=state.from,bank_name=state.bank_name,notes=state.notes;bank_account={date:date,amount:amount,from:from,bank_name:bank_name,notes:notes};_context23.next=4;return accounting.addBankAccount(props.budget,bank_account);case 4:props.update(props.budget);handleAddBankAccountDialog();case 6:case\"end\":return _context23.stop();}}},_callee23);}));return function addBankAccount(){return _ref9.apply(this,arguments);};}();var deleteBankAccount=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee24(bank_account_id){var i;return _regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:i=0;case 1:if(!(i<bank_account_id.length)){_context24.next=8;break;}_context24.next=4;return accounting.deleteBankAccount(props.budget,bank_account_id[i]);case 4:props.update(props.budget);case 5:i++;_context24.next=1;break;case 8:case\"end\":return _context24.stop();}}},_callee24);}));return function deleteBankAccount(_x30){return _ref10.apply(this,arguments);};}();// select working_days from grid list\nvar handleSelect=function handleSelect(value){return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee25(){var currentIndex,newWorkingDays,working_days;return _regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:currentIndex=workingDays.indexOf(value);newWorkingDays=_toConsumableArray(workingDays);if(currentIndex===-1){newWorkingDays.push(value);}else{newWorkingDays.splice(currentIndex,1);}setWorkingDays(newWorkingDays);working_days=newWorkingDays;_context25.next=7;return accounting.editBudget(props.budget,working_days);case 7:props.update(props.budget);case 8:case\"end\":return _context25.stop();}}},_callee25);}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AddBudgetDialog,{open:addBudgetDialog,handleChange:handleChange,addBudget:addBudget,onClose:handleAddBudgetDialog}),/*#__PURE__*/_jsx(FixedCostsDialog,{open:fixedCostsDialog,onClose:handleFixedCostsDialog,budget:props.budget,addFixedCost:addFixedCost,handleChange:handleChange,authUser:props.authUser,addFixedCostDialog:addFixedCostDialog,handleAddFixedCostDialog:handleAddFixedCostDialog,deleteFixedCost:deleteFixedCost}),/*#__PURE__*/_jsx(VariableCostsDialog,{open:variableCostsDialog,onClose:handleVariableCostsDialog,budget:props.budget,addVariableCost:addVariableCost,handleChange:handleChange,authUser:props.authUser,addVariableCostDialog:addVariableCostDialog,handleAddVariableCostDialog:handleAddVariableCostDialog,deleteVariableCost:deleteVariableCost,date:date,selectDate:selectDate}),/*#__PURE__*/_jsx(FutureCostsDialog,{open:futureCostsDialog,onClose:handleFutureCostsDialog,budget:props.budget,addFutureCost:addFutureCost,handleChange:handleChange,authUser:props.authUser,addFutureCostDialog:addFutureCostDialog,handleAddFutureCostDialog:handleAddFutureCostDialog,deleteFutureCost:deleteFutureCost,date:date,selectDate:selectDate}),/*#__PURE__*/_jsx(IncomesDialog,{open:incomesDialog,onClose:handleIncomesDialog,budget:props.budget,addIncome:addIncome,handleChange:handleChange,authUser:props.authUser,addIncomeDialog:addIncomeDialog,handleAddIncomeDialog:handleAddIncomeDialog,deleteIncome:deleteIncome,date:date,selectDate:selectDate}),/*#__PURE__*/_jsx(BankAccountsDialog,{open:bankAccountsDialog,onClose:handleBankAccountsDialog,budget:props.budget,addBankAccount:addBankAccount,handleChange:handleChange,authUser:props.authUser,addBankAccountDialog:addBankAccountDialog,handleAddBankAccountDialog:handleAddBankAccountDialog,deleteBankAccount:deleteBankAccount,date:date,selectDate:selectDate}),user?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Grid,{container:true,direction:\"column\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsxs(FormControl,{className:classes.formControl,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Budget\"}),/*#__PURE__*/_jsx(Select,{id:\"select-budget\",value:budgetName,onChange:handleSelectBudget,children:user.budgets.map(function(budget){return/*#__PURE__*/_jsx(MenuItem,{value:budget,children:budget.name},budget._id);})})]}),/*#__PURE__*/_jsx(Button,{onClick:handleAddBudgetDialog,children:\"Add a budget\"}),props.budget?/*#__PURE__*/_jsxs(\"div\",{children:[props.budget.name,/*#__PURE__*/_jsx(Button,{onClick:deleteBudget,children:\"Delete\"})]}):null]}),/*#__PURE__*/_jsx(Grid,{item:true,children:props.budget?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CheckBoxGridList,{data:['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'],checked:props.budget.working_days,handleSelect:handleSelect})}):null}),/*#__PURE__*/_jsx(Grid,{item:true,container:true,direction:\"column\",children:props.budget?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Grid,{item:true,container:true,spacing:1,direction:\"column\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,container:true,spacing:1,children:[/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"To earn: \",props.budget.to_earn]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"To save: \",props.budget.to_save]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Net worth: \",props.budget.net_worth]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"APY: \",props.budget.APY]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"spendable: \",props.budget.spendable]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"goal: \",props.budget.goal]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,container:true,spacing:1,children:[/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Net worth needed: \",props.budget.net_worth_needed]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Net worth missing: \",props.budget.net_worth_missing]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[\"Time: \",props.budget.time]})]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,children:[/*#__PURE__*/_jsxs(Button,{onClick:handleFixedCostsDialog,children:[\"Fixed Costs \",props.budget.tot_fixed_costs]}),/*#__PURE__*/_jsxs(Button,{onClick:handleVariableCostsDialog,children:[\"Variable Costs \",props.budget.tot_variable_costs]}),/*#__PURE__*/_jsxs(Button,{onClick:handleFutureCostsDialog,children:[\"Future Costs \",props.budget.tot_future_costs]}),/*#__PURE__*/_jsxs(Button,{onClick:handleIncomesDialog,children:[\"Incomes \",props.budget.tot_incomes]}),/*#__PURE__*/_jsxs(Button,{onClick:handleBankAccountsDialog,children:[\"Bank accounts \",props.budget.tot_bank_accounts]})]})]}):/*#__PURE__*/_jsx(\"div\",{children:\"Select a budget to see details\"})})]})}):/*#__PURE__*/_jsx(\"div\",{children:\"Loading . . .\"})]});}","map":{"version":3,"sources":["/home/lorenzo/projects/werewolf-alpha/werewolf-desktop/src/Components/Accounting/Accounting.js"],"names":["React","makeStyles","Grid","InputLabel","MenuItem","Select","FormControl","Button","Typography","format","compareAsc","AddBudgetDialog","FixedCostsDialog","VariableCostsDialog","FutureCostsDialog","IncomesDialog","BankAccountsDialog","CheckboxesForm","CheckBoxGridList","axios","accounting","update","budget","post","budget_id","_id","res","data","addBudget","name","editBudget","working_days","deleteBudget","addFixedCost","fixed_cost","deleteFixedCost","fixed_cost_id","addVariableCost","variable_cost","deleteVariableCost","variable_cost_id","addFutureCost","future_cost","deleteFutureCost","future_cost_id","addIncome","income","deleteIncome","income_id","addBankAccount","bank_account","deleteBankAccount","bank_account_id","useStyles","theme","formControl","margin","spacing","minWidth","Accounting","props","user","classes","useState","addBudgetDialog","setAddBudgetDialog","fixedCostsDialog","setFixedCostsDialog","variableCostsDialog","setVariableCostsDialog","futureCostsDialog","setFutureCostsDialog","incomesDialog","setIncomesDialog","bankAccountsDialog","setBankAccountsDialog","state","setState","addFixedCostDialog","setAddFixedCostDialog","addVariableCostDialog","setAddVariableCostDialog","addFutureCostDialog","setAddFutureCostDialog","addIncomeDialog","setAddIncomeDialog","addBankAccountDialog","setAddBankAccountDialog","Date","date","setDate","workingDays","setWorkingDays","budgetName","setBudgetName","handleSelectBudget","e","target","value","selectDate","handleAddFixedCostDialog","handleAddVariableCostDialog","handleAddFutureCostDialog","handleAddIncomeDialog","handleAddBankAccountDialog","handleChange","id","handleAddBudgetDialog","handleFixedCostsDialog","handleVariableCostsDialog","handleFutureCostsDialog","handleIncomesDialog","handleBankAccountsDialog","then","authUser","budgets","success","due_day","amount","from","to","frequency","notes","i","length","label","bank_name","handleSelect","currentIndex","indexOf","newWorkingDays","push","splice","map","to_earn","to_save","net_worth","APY","spendable","goal","net_worth_needed","net_worth_missing","time","tot_fixed_costs","tot_variable_costs","tot_future_costs","tot_incomes","tot_bank_accounts"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport {\n    Grid,\n    InputLabel,\n    MenuItem,\n    Select,\n    FormControl,\n    Button,\n    Typography\n} from '@material-ui/core'\nimport { format, compareAsc } from 'date-fns'\n\nimport AddBudgetDialog from './AddBudgetDialog'\nimport FixedCostsDialog from './FixedCosts/FixedCostsDialog'\nimport VariableCostsDialog from './VariableCosts/VariableCostsDialog'\nimport FutureCostsDialog from './FutureCosts/FutureCostsDialog'\nimport IncomesDialog from './Incomes/IncomesDialog'\nimport BankAccountsDialog from './BankAccounts/BankAccountsDialog'\nimport CheckboxesForm from '../Layout/CheckboxesForm'\n\n// import accounting from '../../funcs/accounting'\nimport CheckBoxGridList from '../Layout/CheckBoxGridList'\n\nimport axios from 'axios'\n\nconst accounting = {\n    update: async (budget) => {\n        const res = await axios.post('users/accounting', {budget_id: budget._id})\n        return res.data\n    },\n    addBudget: async (name) => {\n        const res = await axios.post('/users/add-budget', {budget: { name: name }})\n        return res.data\n    },\n    editBudget: async (budget, working_days) => {\n        const res = await axios.post('/users/edit-budget', {budget_id: budget._id, working_days: working_days})\n        return res.data\n    },\n    deleteBudget: async (budget_id) => {\n        const res = await axios.post('/users/delete-budget', {budget_id})\n        return res.data\n    },\n    addFixedCost: async (budget, fixed_cost) => {\n        const res = await axios.post('/users/add-fixed-cost', {budget_id: budget._id, fixed_cost: fixed_cost})\n        return res.data\n    },\n    deleteFixedCost: async (budget, fixed_cost_id) => {\n        const res = await axios.post('/users/delete-fixed-cost', {budget_id: budget._id, fixed_cost_id: fixed_cost_id})\n        return res.data\n    },\n    addVariableCost: async (budget, variable_cost) => {\n        const res = await axios.post('/users/add-variable-cost', {budget_id: budget._id, variable_cost: variable_cost})\n        return res.data\n    },\n    deleteVariableCost: async (budget, variable_cost_id) => {\n        const res = await axios.post('/users/delete-variable-cost', {budget_id: budget._id, variable_cost_id: variable_cost_id})\n        return res.data\n    },\n    addFutureCost: async (budget, future_cost) => {\n        const res = await axios.post('/users/add-future-cost', {budget_id: budget._id, future_cost: future_cost})\n        return res.data\n    },\n    deleteFutureCost: async (budget, future_cost_id) => {\n        const res = await axios.post('/users/delete-future-cost', {budget_id: budget._id, future_cost_id: future_cost_id})\n        return res.data\n    },\n    addIncome: async (budget, income) => {\n        const res = await axios.post('/users/add-income', {budget_id: budget._id, income: income})\n        return res.data\n    },\n    deleteIncome: async (budget, income_id) => {\n        const res = await axios.post('/users/delete-income', {budget_id: budget._id, income_id: income_id})\n        return res.data\n    },\n    addBankAccount: async (budget, bank_account) => {\n        const res = await axios.post('/users/add-bank-account', {budget_id: budget._id, bank_account: bank_account})\n        return res.data\n    },\n    deleteBankAccount: async (budget, bank_account_id) => {\n        const res = await axios.post('/users/delete-bank-account', {budget_id: budget._id, bank_account_id: bank_account_id})\n        return res.data\n    }\n}\n\nconst useStyles = makeStyles((theme) => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120\n    }\n}))\n\nexport default function Accounting(props) {\n    const { user } = props\n\n    const classes = useStyles()\n    const [addBudgetDialog, setAddBudgetDialog] = React.useState(false)\n    const [fixedCostsDialog, setFixedCostsDialog] = React.useState(false)\n    const [variableCostsDialog, setVariableCostsDialog] = React.useState(false)\n    const [futureCostsDialog, setFutureCostsDialog] = React.useState(false)\n    const [incomesDialog, setIncomesDialog] = React.useState(false)\n    const [bankAccountsDialog, setBankAccountsDialog] = React.useState(false)\n    const [state, setState] = React.useState()\n    const [addFixedCostDialog, setAddFixedCostDialog] = React.useState(false)\n    const [addVariableCostDialog, setAddVariableCostDialog] = React.useState(false)\n    const [addFutureCostDialog, setAddFutureCostDialog] = React.useState(false)\n    const [addIncomeDialog, setAddIncomeDialog] = React.useState(false)\n    const [addBankAccountDialog, setAddBankAccountDialog] = React.useState(false)\n    const [date, setDate] = React.useState(format(new Date(), 'yyyy-MM-dd'))\n    const [workingDays, setWorkingDays] = React.useState(props.budget.working_days)\n    const [budgetName, setBudgetName] = React.useState(props.budget ? props.budget.name : '')\n\n    // Handle budget selection\n    const handleSelectBudget = (e) => {\n        // props.setBudget(e.target.value)\n        // console.log(e.target.value.name)\n        // setBudgetName(e.target.value.name)\n        props.update(e.target.value)\n    }\n\n    const selectDate = (e) => {\n        setDate(e.target.value)\n    }\n\n    const handleAddFixedCostDialog = () => {\n        setAddFixedCostDialog(!addFixedCostDialog)\n    }\n\n    const handleAddVariableCostDialog = () => {\n        setAddVariableCostDialog(!addVariableCostDialog)\n    }\n\n    const handleAddFutureCostDialog = () => {\n        setAddFutureCostDialog(!addFutureCostDialog)\n    }\n\n    const handleAddIncomeDialog = () => {\n        setAddIncomeDialog(!addIncomeDialog)\n    }\n\n    const handleAddBankAccountDialog = () => {\n        setAddBankAccountDialog(!addBankAccountDialog)\n    }\n\n    const handleChange = (e) => {\n        setState({...state, [e.target.id]: e.target.value})\n    } \n\n    const handleAddBudgetDialog = () => {\n        setAddBudgetDialog(!addBudgetDialog)\n    }\n\n    const handleFixedCostsDialog = () => {\n        setFixedCostsDialog(!fixedCostsDialog)\n    }\n\n    const handleVariableCostsDialog = () => {\n        setVariableCostsDialog(!variableCostsDialog)\n    }\n\n    const handleFutureCostsDialog = () => {\n        setFutureCostsDialog(!futureCostsDialog)\n    }\n\n    const handleIncomesDialog = () => {\n        setIncomesDialog(!incomesDialog)\n    }\n\n    const handleBankAccountsDialog = () => {\n        setBankAccountsDialog(!bankAccountsDialog)\n    }\n\n    const addBudget = () => {\n        let { budgets, success } = accounting.addBudget(state.name).then(() => {\n            props.authUser()\n            handleAddBudgetDialog()\n        })\n    }\n\n    const deleteBudget = () => {\n        let { budgets, success } = accounting.deleteBudget(props.budget._id).then(() => {\n            props.update(user.budgets[0])\n        })\n    }\n\n    const addFixedCost = async () => {\n        const {\n            due_day,\n            amount,\n            from,\n            to,\n            frequency,\n            notes\n        } = state\n        let fixed_cost = {\n            due_day,\n            amount,\n            from,\n            to,\n            frequency,\n            notes\n        }\n        await accounting.addFixedCost(props.budget, fixed_cost)\n        props.update(props.budget)\n        handleAddFixedCostDialog()\n    }\n\n    const deleteFixedCost = async (fixed_cost_id) => {\n        for (let i = 0; i < fixed_cost_id.length; i++) {\n            await accounting.deleteFixedCost(props.budget, fixed_cost_id[i])\n            props.update(props.budget)\n        }\n    }\n\n    const addVariableCost = async () => {\n        const {\n            amount,\n            from,\n            to,\n            notes,\n            label\n        } = state\n        let variable_cost = {\n            date: date,\n            amount,\n            from,\n            to,\n            notes,\n            label\n        }\n        await accounting.addVariableCost(props.budget, variable_cost)\n        props.update(props.budget)\n        handleAddVariableCostDialog()\n    }\n\n    const deleteVariableCost = async (variable_cost_id) => {\n        for (let i = 0; i < variable_cost_id.length; i++) {\n            await accounting.deleteVariableCost(props.budget, variable_cost_id[i])\n            props.update(props.budget)\n        }\n    }\n\n    const addFutureCost = async () => {\n        const {\n            amount,\n            from,\n            to,\n            notes,\n            label\n        } = state\n        let future_cost = {\n            date: date,\n            amount,\n            from,\n            to,\n            notes,\n            label\n        }\n        await accounting.addFutureCost(props.budget, future_cost)\n        props.update(props.budget)\n        handleAddFutureCostDialog()\n    }\n\n    const deleteFutureCost = async (future_cost_id) => {\n        for (let i = 0; i < future_cost_id.length; i++) {\n            await accounting.deleteFutureCost(props.budget, future_cost_id[i])\n            props.update(props.budget)\n        }\n    }\n\n    const addIncome = async () => {\n        const {\n            amount,\n            from,\n            to,\n            notes\n        } = state\n        let income = {\n            date: date,\n            amount,\n            from,\n            to,\n            notes\n        }\n        await accounting.addIncome(props.budget, income)\n        props.update(props.budget)\n        handleAddIncomeDialog()\n    }\n\n    const deleteIncome = async (income_id) => {\n        for (let i = 0; i < income_id.length; i++) {\n            await accounting.deleteIncome(props.budget, income_id[i])\n            props.update(props.budget)\n        }\n    }\n\n    const addBankAccount = async () => {\n        const {\n            amount,\n            from,\n            bank_name,\n            notes\n        } = state\n        let bank_account = {\n            date: date,\n            amount,\n            from,\n            bank_name,\n            notes\n        }\n        await accounting.addBankAccount(props.budget, bank_account)\n        props.update(props.budget)\n        handleAddBankAccountDialog()\n    }\n\n    const deleteBankAccount = async (bank_account_id) => {\n        for (let i = 0; i < bank_account_id.length; i++) {\n            await accounting.deleteBankAccount(props.budget, bank_account_id[i])\n            props.update(props.budget)\n        }\n    }\n\n    // select working_days from grid list\n    const handleSelect = (value) => async () => {\n        const currentIndex = workingDays.indexOf(value)\n        const newWorkingDays = [...workingDays]\n\n        if (currentIndex === -1) {\n            newWorkingDays.push(value)\n        } else {\n            newWorkingDays.splice(currentIndex, 1)\n        }\n        setWorkingDays(newWorkingDays)\n        let working_days = newWorkingDays\n        await accounting.editBudget(props.budget, working_days)\n        props.update(props.budget)\n    }\n\n    return (\n        <div>\n            <AddBudgetDialog\n                open={addBudgetDialog}\n                handleChange={handleChange}\n                addBudget={addBudget}\n                onClose={handleAddBudgetDialog}\n            />\n            <FixedCostsDialog\n                open={fixedCostsDialog}\n                onClose={handleFixedCostsDialog}\n                budget={props.budget}\n                addFixedCost={addFixedCost}\n                handleChange={handleChange}\n                authUser={props.authUser}\n                addFixedCostDialog={addFixedCostDialog}\n                handleAddFixedCostDialog={handleAddFixedCostDialog}\n                deleteFixedCost={deleteFixedCost}\n            />\n            <VariableCostsDialog\n                open={variableCostsDialog}\n                onClose={handleVariableCostsDialog}\n                budget={props.budget}\n                addVariableCost={addVariableCost}\n                handleChange={handleChange}\n                authUser={props.authUser}\n                addVariableCostDialog={addVariableCostDialog}\n                handleAddVariableCostDialog={handleAddVariableCostDialog}\n                deleteVariableCost={deleteVariableCost}\n                date={date}\n                selectDate={selectDate}\n            />\n            <FutureCostsDialog\n                open={futureCostsDialog}\n                onClose={handleFutureCostsDialog}\n                budget={props.budget}\n                addFutureCost={addFutureCost}\n                handleChange={handleChange}\n                authUser={props.authUser}\n                addFutureCostDialog={addFutureCostDialog}\n                handleAddFutureCostDialog={handleAddFutureCostDialog}\n                deleteFutureCost={deleteFutureCost}\n                date={date}\n                selectDate={selectDate}\n            />\n            <IncomesDialog\n                open={incomesDialog}\n                onClose={handleIncomesDialog}\n                budget={props.budget}\n                addIncome={addIncome}\n                handleChange={handleChange}\n                authUser={props.authUser}\n                addIncomeDialog={addIncomeDialog}\n                handleAddIncomeDialog={handleAddIncomeDialog}\n                deleteIncome={deleteIncome}\n                date={date}\n                selectDate={selectDate}\n            />\n            <BankAccountsDialog\n                open={bankAccountsDialog}\n                onClose={handleBankAccountsDialog}\n                budget={props.budget}\n                addBankAccount={addBankAccount}\n                handleChange={handleChange}\n                authUser={props.authUser}\n                addBankAccountDialog={addBankAccountDialog}\n                handleAddBankAccountDialog={handleAddBankAccountDialog}\n                deleteBankAccount={deleteBankAccount}\n                date={date}\n                selectDate={selectDate}\n            />\n            {user\n            ? (<div>\n                <Grid container direction=\"column\">\n                    <Grid item>\n                        <FormControl className={classes.formControl}>\n                            <InputLabel>Budget</InputLabel>\n                            <Select\n                                id=\"select-budget\"\n                                value={budgetName}\n                                onChange={handleSelectBudget}\n                            >\n                                {user.budgets.map((budget) => (\n                                    <MenuItem key={budget._id} value={budget}>{budget.name}</MenuItem>))}\n                            </Select>\n                        </FormControl>\n                        <Button\n                            onClick={handleAddBudgetDialog}\n                        >Add a budget</Button>\n                        {props.budget\n                        ? <div>                            \n                            {props.budget.name}\n                            <Button\n                                onClick={deleteBudget}\n                            >Delete</Button></div>\n                        : null}\n                    </Grid>\n                    <Grid item>\n                        {props.budget\n                        ? <div><CheckBoxGridList\n                                data={['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']}\n                                checked={props.budget.working_days}\n                                handleSelect={handleSelect}\n                            /></div>\n                        : null}                        \n                    </Grid>\n                    <Grid item container direction=\"column\">                        \n                        {props.budget\n                        ? <div>\n                            <Grid item container spacing={1} direction=\"column\">\n                                <Grid item container spacing={1}>\n                                    <Grid item>\n                                        To earn: {props.budget.to_earn}\n                                    </Grid>\n                                    <Grid item>\n                                        To save: {props.budget.to_save}\n                                    </Grid>\n                                    <Grid item>\n                                        Net worth: {props.budget.net_worth}\n                                    </Grid>\n                                    <Grid item>\n                                        APY: {props.budget.APY}\n                                    </Grid>\n                                    <Grid item>\n                                        spendable: {props.budget.spendable}\n                                    </Grid>\n                                    <Grid item>\n                                        goal: {props.budget.goal}\n                                    </Grid>\n                                </Grid>\n                                <Grid item container spacing={1}>\n                                    <Grid item>\n                                        Net worth needed: {props.budget.net_worth_needed}\n                                    </Grid>\n                                    <Grid item>\n                                        Net worth missing: {props.budget.net_worth_missing}\n                                    </Grid>\n                                    <Grid item>\n                                        Time: {props.budget.time}\n                                    </Grid>                                    \n                                </Grid>\n                            </Grid>\n                            <Grid item>\n                                <Button\n                                    onClick={handleFixedCostsDialog}\n                                >Fixed Costs {props.budget.tot_fixed_costs}</Button>\n                                <Button\n                                    onClick={handleVariableCostsDialog}\n                                >Variable Costs {props.budget.tot_variable_costs}</Button>\n                                <Button\n                                    onClick={handleFutureCostsDialog}\n                                >Future Costs {props.budget.tot_future_costs}</Button>\n                                <Button\n                                    onClick={handleIncomesDialog}\n                                >Incomes {props.budget.tot_incomes}</Button>\n                                <Button\n                                    onClick={handleBankAccountsDialog}\n                                >Bank accounts {props.budget.tot_bank_accounts}</Button>\n                            </Grid>\n                            </div>\n                        : <div>Select a budget to see details</div>}\n                    </Grid>\n                </Grid></div>)\n            : (<div>Loading . . .</div>)}            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}